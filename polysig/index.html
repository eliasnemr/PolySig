<!DOCTYPE html>
<!-- PolySig, Version 1.0 -->
<!-- Created by Elias Nemr -->
<!-- Minima, Global -->
<!-- github.com/eliasnemr -->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <base href=".">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="css/custom.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body>
        <script>
            $(document).ready(function() {

                $('.carousel').carousel({
                    
                });

                Minima.init(function(msg){
                    if (msg.event == "connected") {
                        const TABLE = 'CREATE TABLE IF NOT EXISTS CONTRACTS (id int NOT NULL, txpow LONGVARCHAR(MAX) NOT NULL, timestamp VARCHAR(160));SELECT * FROM CONTRACTS';
                        Minima.sql(TABLE, function(res){
                            if (res.status) {
                                // console.log('Created Contracts SQL Table');
                            }
                        });
                    }
                });
            });
        </script>
        <script>
            // Transitions
            document.addEventListener("DOMContentLoaded", function(){

                let txnID = "";
                let inp = 1;
                let input = {id: "", signees: "", min: "", inputs: [], total: 0};
                let output = {amount: 0, address: "", tokenid: "", keys: { id: [], proof: ""} };

                const menu = document.getElementById("start-menu-title");
                const help = document.getElementById("help-menu-title");
                const createBtn = document.getElementById("btnWrap1");
                const provideBtn = document.getElementById("btnWrap2");
                const helpBtn = document.getElementById("helpBtn");
                const helpDiv = document.getElementById("help");

                $('#tutorialBtn').on('click', function() {
                    $('#tutorial').addClass('hide');
                    // set seen as true, add to Minima.file..
                });
                $('#tutorialClose3').on('click', function(){
                    $('#tutorial').addClass('hide');
                });
                $('#tutorialClose2').on('click', function(){
                    $('#tutorial').addClass('hide');
                });
                $('#tutorialClose').on('click', function(){
                    $('#tutorial').addClass('hide');
                });
                $('.next').on('click', function(){

                });
                $('#helpBtn').on('click', function(){
                    setTimeout(() => {
                        menu.classList.add("scale-out");
                        createBtn.classList.add("scale-out");
                        provideBtn.classList.add("scale-out");

                        $('#s-menu').css("display", "none");
                        $('#s-help').css("display", "block");

                    }, 75);
                });
                $('#helpBtn3').on('click', function(){
                    $('#s-export').css('display', 'none');
                    $('#s-tips3').css('display', 'block');
                });
                $('#homeBtn').on('click', function(){
                    setTimeout(() => {
                        menu.classList.add("scale-in");
                        createBtn.classList.add("scale-in");
                        provideBtn.classList.add("scale-in");

                        $('#s-menu').css("display", "block");
                        $('#s-help').css("display", "none");

                    }, 150);

                });
                $('#homeBtn2').on('click', function(){
                    setTimeout(() => {
                        menu.classList.add("scale-in");
                        createBtn.classList.add("scale-in");
                        provideBtn.classList.add("scale-in");


                        $('#s-menu').css("display", "block");
                        $('#s-create').css("display", "none");

                    }, 150);

                });
                $('#homeBtn3').on('click', function(){
                    
                    input.total = 0;
                    input.inputs = [];

                    setTimeout(() => {
                        $('#s-create').css("display", "block");
                        $('#s-inputs').css("display", "none");
                    }, 150);
                });
                $('#homeBtn4').on('click', function(){
                    setTimeout(() => {
                        $('#s-inputs').css("display", "block");
                        $('#s-keys').css("display", "none");
                    }, 150);

                    input.inputs = [];
                    input.total = 0;
                    let json = JSON.stringify(input);
                    Minima.file.save(json, "inputs.txt", function(){});

                });
                $('#homeBtn5').on('click', function() {

                    $('#s-keys').css("display", "block");
                    $('#s-script').css("display", "none");

                    output.keys.id = [];
                    output.keys.proof = "";


                });
                $('#homeBtn6').on('click', function(){                    
                    $('#s-script').css("display", "block");
                    $('#s-finalize').css("display", "none");

                });
                $('#homeBtn7').on('click', function(){
                    $('#s-export').css("display", "none");
                    $('#s-finalize').css("display", "block");
                });
                $('#homeBtn8').on('click', function(){
                    $('#s-imported-post').addClass('hide');
                    $('#s-export').css("display", "block");
                });
                $('#homeBtn9').on('click', function(){
                    $('#s-contracts').addClass('hide');
                    $('#s-menu').css("display", "block");
                });
                $('#tipsBtn1').on('click', function(){
                    setTimeout(() => {
                        $('#s-inputs').css("display", "none");
                        $('#s-tips1').css("display", "block");

                    }, 150);
                });
                $('#tipsBtn2').on('click', function(){
                    setTimeout(() => {
                        $('#s-keys').css("display", "none");
                        $('#s-tips2').css("display", "block");

                    }, 150);
                });
                $('#backBtn1').on('click', function(){
                    setTimeout(() => {
                        $('#s-tips1').css("display", "none");
                        $('#s-inputs').css("display", "block");

                    }, 150);
                });
                $('#backBtn2').on('click', function(){
                    setTimeout(() => {
                        $('#s-tips2').css("display", "none");
                        $('#s-keys').css("display", "block");

                    }, 150);
                });
                $('#backBtn3').on('click', function(){
                    $('#s-export').css('display', 'block');
                    $('#s-tips3').css('display', 'none');
                });
                $('#createBtn').on('click', function(){

                    setTimeout(() => {
                        menu.classList.add("scale-out");
                        createBtn.classList.add("scale-out");
                        provideBtn.classList.add("scale-out");


                        $('#s-menu').css("display", "none");
                        $('#s-create').css("display", "block");

                    }, 75);
                    

                });
                $('#minusInput').on('click', function(){
                    minusInput(inp);
                });
                function addInput(inp, coinid) {
                    let markup = "";
                    if (coinid && coinid.length > 0) {
                        markup = 
                            '<div class="col s12 input-field">'+
                                '<img class="prefix" style="width: 30px;" src="assets/slot-machine.svg">'+
                                '<input type="text" id="input+'+inp+'" value="'+coinid+'" />'+
                                '<label for="input'+inp+'">CoinID #'+inp+'</label>'+
                            '</div>';
                    } else {
                        markup = 
                            '<div class="col s12 input-field">'+
                                '<img class="prefix" style="width: 30px;" src="assets/slot-machine.svg">'+
                                '<input type="text" id="input+'+inp+'" />'+
                                '<label for="input'+inp+'">CoinID #'+inp+'</label>'+
                            '</div>';
                    }

                    if($('#inputsWrapper input').length > 0){
                        $('#inputsWrapper:last-child').append(markup);
                    } else {
                        $('#inputsWrapper').append(markup);
                    }
                    M.updateTextFields();
                }
                function minusInput() {
                    if(inp > 0) {
                        $('#inputsWrapper > :last-child').remove();
                        inp--;
                    }
                }
                function m_exportFunction() {
                    var html = `<ul class="coll-tip1 collection with-header">
                        <li class="collection-header"><h4>Tip #1 &mdash; Inputs</h4></li>
                        <li class="collection-item">To obtain your partner's coins use these functions in your MINI terminal</li>
                        <li class="collection-item">&mdash; <a onclick="m_exportFunction()" href=''>exportcoin</a> <span id="descr">[coinid] - export the proof of a single coin. Share it.</span></li>
                        <li class="collection-item">&mdash; <a href=''>importcoin</a> <span id="descr">[data] - Import the proof of a coin.</span></li>
                        <li class="collection-item">&mdash; <a href=''>keepcoin</a>  <span id="descr">[coinid] - Add a coin to the list of coins you keep track of. MUST be a recent coin in the current blocks.</span></li>
                    </ul>`;
                    $('#s-tip1 > #coll-tip1').remove();

                }
                function copyText(id) {

                    var str = document.getElementById(id).value;

                    const el = document.createElement('textarea');
                    el.value = str;
                    document.body.appendChild(el);
                    el.select();
                    document.execCommand('copy');
                    document.body.removeChild(el);

                    /* Alert the copied text */
                    M.toast({html: "Copied to clipboard.", classes: "success"});

                }
                $('#addInput').on('click', function(){
                    
                    addInput(inp);
                    inp++;
                });  
                function contractStage1(id, inpCoins, outAddress, amountToSend, tokenid) {

                    let inputs = "";
                    let outputs = "";
                    let signatures = "";
                    inpCoins.forEach((coin, i) => {
                        inputs += "txninput " + id +" "+ coin +" "+ i + ";";
                    });
                    // output with the script Address and either.. full amount output/no change, or w/ change
                    outputs +="txnoutput " + id +" "+ amountToSend +" "+ outAddress +" "+ tokenid + " " + "0;";

                    // Making a multi-sig transaction
                    const txn = "txncreate "+id+";"+
                                inputs +
                                outputs +
                                "txnstate "+id+" "+125+" "+input.signees+";"+
                                "txnstate "+id+" "+126+" "+input.min;
                                //"txnsignauto "+ id + ";"+
                                //"txnpost " + id + ";"+
                                //"txndelete " + id;
                    Minima.cmd(txn, function(res){

                        if(Minima.util.checkAllResponses(res)) {
                            
                            M.toast({html: "Contract Stage 1 Completed.  Awaiting signatures from other parties.", classes: "success"});

                            $('#s-finalize').css("display", "none");
                            $('#s-export').css("display", "block");

                            let eContract = "";

                            Minima.cmd("txnexport "+id, function(res){
                                if (res.status) {
                                    eContract = res.response.transaction;

                                    $('#exportedContract').val(eContract);

                                    M.updateTextFields();

                                }
                            });


                        } else {

                            M.toast({html: "Something is wrong with your contract, "+res.message});
                        
                        }
                    });
        
                }
                $('#proceedBtn').on('click', function(){
                    let confirmed = false;
                    var users = $('#users').val();
                    users = parseInt(users);
                    var minimum = $('#minimum').val();
                    minimum = parseInt(minimum);

                    $('#modalCreate').modal({
                        dismissible: false,
                        opacity: 0.2,
                        onOpenStart: function() {

                            $('#confirm').on('click', function(){
                                confirmed = true;
                            });

                            if(users >= 2 &&  minimum <= users) {
                                $('#confirm').removeClass('hide');
                                $('#m-contractHeader').text('Continue?');
                                $('#m-contractHeader').css("color", "rgb(86,138,119)");
                                $('#m-contractType').text('This is a ' + minimum +'/'+ users + " multi-signature contract.");
                            } else {
                                $('#confirm').addClass('hide');
                                $('#m-contractHeader').text('Invalid Contract.');
                                $('#m-contractHeader').css("color", "rgb(173,74,83)");
                                $('#m-contractType').text("You need at least 2 Signees and less than or equal amounts of minimum signatures to unlock this contract.");
                            }

                        },
                        onCloseEnd: function() {
                            if(confirmed) {
                                input.signees = users;
                                input.min = minimum;
                                let json = JSON.stringify(input);
                                Minima.file.save(json, "inputs.txt", function(res){
                                    if (res.success) {
                                        $('#s-create').css("display", "none");
                                        $('#s-inputs').css("display", "block");
                                    } else {
                                        alert("Minima is offline...");
                                    }
                                });
                            }
                        }
                    }); 
                });
                $('#proceedBtnInputs').on('click', function(){
                    let inpLen = 0;
                    // reset
                    input.inputs = [];
                    input.total = 0;
                    input.tokenid = "";

                    // get all coin inputs
                    $('#inputsWrapper').find('input[type=text]').each(function() {
                        inpLen++; // add index
                        if($(this).val().length > 0 && ($(this).val().substring(0, 2) == '0x' && $('#tokenId2').val().length > 0)) {
                            input.inputs.push($(this).val()); // push value to input json
                            input.tokenid = $('#tokenId2').val();
                            let json = JSON.stringify(input); 
                            Minima.file.save(json, "inputs.txt", function(res){
                                if (res.success) {
                                } else {
                                    return;
                                }
                            });                            
                        } else {
                            M.toast({html: "Error input fields!"});
                            throw new Error("User has empty fields.");
                        }
                    });
                    // get total amount from coins
                    Minima.cmd("coins", function(res) {
                        if (res.status) {
                            res.response.coins.forEach(c => {
                                input.inputs.forEach(coin => {
                                    if (coin == c.data.coin.coinid) {
                                        input.total = input.total + parseFloat(c.data.coin.amount);
                                    }
                                });
                            });     
                        }
                        let json_ = JSON.stringify(input);
                        Minima.file.save(json_, "inputs.txt", function(){});
                    });
                    
                    if(input.inputs.length == inpLen) {
                        
                        // go to s-outputs
                        $('#s-inputs').css("display", "none");
                        $('#s-keys').css("display", "block");

                        let signees = input.signees;
                        let min = input.min;

                        if($('#keysWrapper:last-child').length > 0) {
                            $('#keysWrapper').empty();
                        }
                        
                        for (var i = 0; i < signees; i++) {
                            let markup = 
                            "<div class='col s12 input-field'>"+
                                "<img id='electronicKey' class='prefix' style='width: 30px;' src='assets/electronic-key.svg'>"+
                                "<input type='text' id='key"+i+"'>"+
                                "<label for='key"+i+"'>Key #"+i+"</label>"+
                            "</div>";
                            $('#keysWrapper').append(markup);

                            //$('#keysInformation').text("You have a PolySig with "+signees+" Signees and a required minimum signature of "+min+".");
                        } 
                    } 

                });
                $('#c-getCoinsBtn').on('click', function() {

                    let id = $('#tokenId2').val();
                    let selected = false;

                    $('#coinsModalCreate').modal({
                        dismissible: false,
                        opacity: 0.2,
                        onOpenStart: function() {

                            $('#aConfirmBtn').on('click', function() {
                                selected = true;
                            });

                            if (id.length > 0) {
                                $('#aCoinsWrapper').empty();
                                Minima.cmd('coinsimple '+id, function(res) {

                                    if (res.status && res.response.coins.length > 0) {

                                        $('#coinsModalCreate #m-contractHeader').text("Available Coins");
                                        $('#coinsModalCreate #m-contractHeader').css('color', 'rgb(44,95,107)');
                                        if ($('#aConfirmBtn').hasClass('hide')) {
                                            $('#aConfirmBtn').removeClass('hide');
                                        }
                                        $('#coinsModalCreate #m-contractType').text("Please tick the coins you would like to use...");

                                        res.response.coins.forEach((coin, i) => {
                                           
                                            let markup = 
                                                    '<ul class="collection with-header">'+
                                                        '<li class="collection-item">'+
                                                            '<div>'+
                                                            '<label>'+
                                                                '<input id="'+coin.coin.coinid+'" type="checkbox"/>'+
                                                                '<span id="coin"><a>Coin</a> #'+i+'</span>'+
                                                            '</label>'+
                                                            '<a class="secondary-content"><span>'+
                                                            coin.coin.amount+
                                                            '</span></a></li>'+
                                                            '</div>'+
                                                    '</ul>';
                                                    
                                            $('#aCoinsWrapper:last-child').append(markup); 
                                        });
                                    } else {
                                        $('#coinsModalCreate #m-contractHeader').css('color', 'rgb(174,74,83)');
                                        $('#coinsModalCreate #m-contractHeader').text("No coins found for the token: ");
                                        $('#aConfirmBtn').addClass('hide');
                                        $('#coinsModalCreate #m-contractType').text(id);
                                    }

                                });
                            }
                            

                        },
                        onCloseEnd: function() {
                            id = "";
                            let selectedCoins = [];
                            if (selected) {
                                $('#aCoinsWrapper ul li input[type=checkbox]:checkbox:checked').each(function(index) {

                                    addInput(inp, $(this).attr('id'));
                                    inp++;
                                    /**
                                    console.log( index + ": " + $(this).attr("id"));
                                    // Push User's selected coins
                                    selectedCoins.push($(this).attr('id'));

                                    selectedCoins.forEach(coin => {

                                        addInput(inp, coin);
                                        inp++;
                                    });
                                    */

                                }); 
                            }
                        }
                    })
                });
                $('#proceedBtnOutputs').on('click', function(){
                    output.keys.id = [];
                    output.keys.proof = "";
                    $('#keysWrapper').find('input[type=text]').each(function() {

                        if($(this).val().length > 0 && $(this).val().substring(0,2) == '0x') {
                            output.keys.id.push($(this).val());
                        } else {
                            M.toast({html: "Error input fields!"});
                            throw new Error("User has empty fields.");
                        }

                    });
                    
                    const json = JSON.stringify(output);
                    Minima.file.save(json, "output.txt", function(res){
                        if (res.success) {
                            
                            $('#s-keys').css("display", "none");
                            $('#s-script').css("display", "block");

                            if($('#multiSigScript').length > 0) {
                                $('#multiSigScript > :last-child').remove();
                            }

                            Minima.file.load("output.txt", function(file){
                                if(file.success) {
                                    const keys = JSON.parse(file.data);
                                    let script = "";
                                    let allKeys = "";
                                    output.keys.id.forEach((id, i) => {
                                        if(output.keys.id.length == i+1) {
                                            allKeys += id;
                                        } else {
                                            allKeys += id + " ";
                                        }
                                    });
                                    script = "RETURN MULTISIG("+input.min+" "+allKeys+")";
                                    
                                    Minima.cmd("newscript "+script, function(res){
                                        if(res.status) {
                                            const markup = 
                                            "<div class='row'>"+
                                                "<div class='col s12'>"+
                                                    "<div id='scriptWrapper' class='card'>"+
                                                        "<div class='card-content white-text'>"+
                                                            "<p>"+script+"</p>"+
                                                            "<i class='material-icons' style='color: rgb(109,104,174) !important;'>arrow_forward</i>"+
                                                            "<p>"+res.response.address.hexaddress+"</p>"+
                                                        "</div>"+
                                                    "</div>"+
                                                "</div>"+
                                            "</div>";
                                            
                                           
                                            $('#multiSigScript').append(markup);
                                            output.keys.proof = res.response.address.hexaddress;
                                            let json = JSON.stringify(output);
                                            Minima.file.save(json, "output.txt", function(){});
                                        }
                                    });
                                    

                                }

                            });
                            

                        }
                    });                    

                });
                $('#proceedBtnScript').on('click', function(){
                    
                    const id = Math.floor(Math.random()*1000000000);
                    input.id = id;
                    const json = JSON.stringify(input);
                    Minima.file.save(json, "inputs.txt", function(res){
                        if (res.success) {
                            // Set ID
                            $('#contractDescr0 p').text(input.id);
                        }
                    });
                    
                    // Set Contract Type
                    $('#contractDescr1 p').text("This is a "+input.signees+"/"+input.min+" MultiSignature Contract.");
                    if(input.inputs.length == 1) {
                        $('#contractDescr2 p').text("You are using "+input.inputs.length+" coin.");
                    } else if(input.inputs.length > 1) {
                        $('#contractDescr2 p').text("You are using "+input.inputs.length+" coins.");
                    } else {
                        $('#contractDescr2 p').text("You are using 0 coins");
                    }
                    // Set Total Val + min, max for input
                    $('#contractDescr3 input').val(input.total);
                    $('#contractDescr3 input').attr("max", input.total);
                    $('#contractDescr3 input').attr("min", 0);
                    
                    // if already exist remove..
                    $('#chosenCoinsWrapper').empty();

                    // Set Chosen Coins
                    input.inputs.forEach((coins, i) => {

                        let markup = "<li class='collection-item contract-item'><h4>Coin #"+i+"</h4><p>"+coins+"</p></li>";
                        $('#chosenCoinsWrapper:last-child').append(markup);

                    });

                    // if already exist remove..
                    $('#allSignatures').empty();

                    output.keys.id.forEach((key, i) => {

                        let m = "<li class='collection-item contract-item'><h4>Signee #"+i+"</h4><p>"+ key + "</p></li>";
                        $('.signature-collection #allSignatures').append(m);

                    });

                    $('#s-script').css("display", "none");
                    $('#s-finalize').css("display", "block");

                    

                });
                $('#proceedBtnPost').on('click', function(){

                    createMultiSig(input.inputs, output.address)


                });
                $('#exportContract').on('click', function(){
                
                    contractStage1(input.id, input.inputs, output.keys.proof, input.total, input.tokenid);

                });
                $('.copy').on('click', function(){

                    copyText("exportedContract");

                });
                $('#importContractBtn').on('click', function(){

                    const importedHEX = $('#importedContract').val();
                    const currID = input.id;
                    $('#s-export').addClass("hide");
                    $('#s-imported-post').removeClass("hide");

                    Minima.cmd('txnimport '+currID+' '+importedHEX, function(res){

                        if (res.status) {
                            res.response.transactions.forEach(txn => {

                                if (txn.id == currID) {
                                    console.log(txn);
    
                                    $('#finalContractDetails0 > p').text(currID);
                                    $('#finalContractDetails1 > p').text(txn.transaction.inputs.length);
                                    $('#finalContractDetails2 > p').text(txn.transaction.outputs.length);
                                    $('#finalContractDetails3 > p').text(txn.witness.scripts.length);


    
    
                                }
    
                            });

                        }
                        
                    });
                });
                $('#signAndPostBtn').on('click', function(){

                    Minima.cmd('txnsignauto '+input.id+';'+'txnpost '+input.id+';', function(res){
                        if (Minima.util.checkAllResponses(res)) {
                            
                            M.toast({html: "Contract posted!", classes:"success"});

                            $('#s-imported-post').addClass('hide');
                            $('#s-posted-details').removeClass('hide');

                            $('#postedContractDetails0 > p').text(input.id);
                            $('#postedContractDetails1 > p').text(res[1].response.size);
                            $('#postedContractDetails2 > p').text(moment(Date.now()).format("dddd, MMMM Do YYYY, h:mm:ss a"));

                            const INSERT = "INSERT INTO CONTRACTS VALUES ('";
                            Minima.cmd('txnlist ' + input.id, function(resp) {
                                if (resp.status) {
                                    console.log(resp);
                                    let date = Date.now().toString();
                                    Minima.sql(INSERT+input.id+"', '"+JSON.stringify(resp.response.transaction)+"', '"+date+"')", function(res){
                                        if (res.status) {
                                            // console.log('Updated Contracts Table.');
                                        }
                                    });
                                }
                                
                            });

                        }
                    })

                });
                $('#postedContractHomeBtn').on('click', function(){
                    $('#s-menu').css("display", "block");
                    $('#s-posted-details').addClass("hide");
                });
                /** Contracts */
                $('#provideBtn').on('click', function() {
                    $('#s-menu').css("display", "none");
                    $('#s-contracts').removeClass("hide");

                    $('#contract').empty();
                    Minima.sql("SELECT * FROM CONTRACTS", function(res){
                        
                        if (res.status && res.response.rows.length > 0) {
                            $('#contracts > ul > .collection-header').text('Contracts');
                            $('#contracts > ul > .collection-header').css("color", "rgb(188,192,194)");
                            $('#contracts > ul > .collection-header').css("font-size", "1.5rem");
                            // retrieve data and fill activities
                            res.response.rows.forEach(row => {
                                const json = JSON.parse(row.TXPOW);
                                console.log(json);
                                let markup = 
                                            '<li class="collection-item">'+
                                                '<div class="card blue-grey darken-1">'+
                                                    '<div class="card-content white-text">'+
                                                        '<span class="card-title"><span id="brand">#</span>'+row.ID+'</span>'+
                                                        '<p id="contractType">'+json.transaction.state[0].data+'/'+json.transaction.state[1].data+' MultiSignature Contract.</p>'+
                                                        '<p id="timestamp">'+ moment(parseInt(row.TIMESTAMP)).format("MMMM Do YYYY &#8212; HH:mm:ss a") +'</p>'+
                                                    '</div>'+
                                                    '<div class="card-action">'+
                                                        '<a id="'+row.ID+'" class="viewContract">View Contract</a>'+
                                                    '</div>'+
                                                '</div>'+
                                            '</li>';
                                $('#contract').append(markup);
                                
                            });


                        } else {
                            $('#contracts > ul > .collection-header').text("No contracts found!");
                            $('#contracts > ul > .collection-header').css("color", "#736AB6");
                            $('#contracts > ul > .collection-header').css("font-weight", "800");

                        }

                    });
                    
                    
                   

                });
                $(document).on('click', '.viewContract', function(){

                    console.log($(this).attr('id'));
                    let id = $(this).attr('id');
                    // Show details of this txnlist..
                    Minima.sql('SELECT * FROM CONTRACTS WHERE ID='+id, function(res){
                        if (res.status && res.response.rows.length > 0) {
                            console.log(res);
                            $('#contract').addClass('hide');
                            $('#contract-details').removeClass('hide');
                            
                            let inputs = "";
                            let outputs = "";
                            let json = JSON.parse(res.response.rows[0].TXPOW);
                            
                            json.transaction.inputs.forEach((input, i) => {
                                inputs += 
                                        '<li class="collection-item c-details-item">'+
                                            '<span id="title"><span id="brand" style="font-size: 1.3rem;">#</span>'+ i +'</span>'+
                                            '<p>'+input.coinid+'</p>'+
                                            '<a id="amnt">'+input.amount+'</a>'
                                        '</li>';
                            });
                            json.transaction.outputs.forEach((output, i) => {
                                outputs += 
                                        '<li class="collection-item c-details-item">'+
                                            '<span id="title"><span id="brand" style="font-size: 1.3rem;">#</span>'+ i +'</span>'+
                                            '<p>Recipient Address &mdash; '+output.address+'</p>'+
                                            '<a id="amnt">'+output.amount+'</a>'
                                        '</li>';
                            });

                            let markup = 
                                        '<li class="collection-item">'+
                                            '<div class="card blue-grey darken-1">'+
                                                '<div class="card-content white-text">'+
                                                    '<span class="card-title"><span id="brand">#</span>'+res.response.rows[0].ID+'</span>'+
                                                    '<p id="contractType">'+json.transaction.state[0].data+'/'+json.transaction.state[1].data+' MultiSignature Contract.</p>'+
                                                    '<p id="timestamp">'+ moment(parseInt(res.response.rows[0].TIMESTAMP)).format("MMMM Do YYYY &#8212; HH:mm:ss a") +'</p>'+
                                                    '<hr>'+
                                                    '<ul class="collection with-header">'+
                                                        '<li class="collection-header contract-header" style="color: #000 !important;">Contract Details</li>'+
                                                        '<ul class="collection with-header"><li class="collection-header c-details-header">Signatures</li><li class="collection-item c-details-item">Signed by '+json.witness.signatures.length+'</li></ul>'+
                                                        '<ul class="collection with-header"><li class="collection-header c-details-header">Inputs</li>'+inputs+'</ul>'+
                                                        '<ul class="collection with-header"><li class="collection-header c-details-header">Outputs</li>'+outputs+'</ul>'+

                                                    '</ul>'+
                                                '</div>'+
                                                '<div class="card-action">'+
                                                    '<a id="backToContracts">Back to Contracts</a>'+
                                                '</div>'+
                                                '</div>'+
                                        '</li>';
                            $('#contract-details').append(markup);
                            
                            

                        }
                    });

                });
                $(document).on('click', '#backToContracts', function(){
                    $('#contract-details').empty();
                    $('#contract').removeClass("hide");
                    $('#contract-details').addClass("hide");
                })
                /** TOOLS */
                $('#tools').on('click', function() {

                    if ($('#toolsMenu').hasClass("hide")) {
                        $('#toolsMenu').removeClass("hide");
                        $('#tools').text("Hide Tools");
                    } else {
                        $('#toolsMenu').addClass("hide");
                        $('#tools').text("Tools");

                    }
                    

                });
                $('#toolsClose').on('click', function(){
                    
                    if ($('#toolsMenu').hasClass("hide")) {
                        $('#toolsMenu').removeClass("hide");
                        $('#tools').text("Hide Tools");
                    } else {
                        $('#toolsMenu').addClass("hide");
                        $('#tools').text("Tools");

                    }

                });
                $('#coinsBtn').on('click', function(){
                    
                    if($('#coinsTool').hasClass("hide") && !$('#importTool').hasClass('hide')) {
                        $('#importTool').addClass('hide');
                        $('#coinsTool').removeClass("hide");
                    } else if($('#coinsTool').hasClass("hide") && !$('#generateTool').hasClass('hide')) {
                        $('#generateTool').addClass('hide');
                        $('#coinsTool').removeClass("hide");
                    } else {
                        $('#coinsTool').removeClass("hide");
                    }

                });
                $(document).on('click', '#coinClose', function() {
                    $('#coinsTool').addClass("hide");
                })
                $(document).on('click', '#copyCoin', function(){
                    var id = $(this).text();

                    const el = document.createElement('textarea');
                    el.value = id.substring(0, id.length-12);
                    document.body.appendChild(el);
                    el.select();
                    document.execCommand('copy');
                    document.body.removeChild(el);

                    /* Alert the copied text */
                    M.toast({html: "Copied to clipboard.", classes: "success"});
                });
                $('#getCoins').on('click', function() {

                    $('.tokenCoins').empty();

                    var tokenid = $('#tokenID').val();
                    if(tokenid.length == 0){
                        return M.toast({html:"Your input field's empty!"});
                    }
                    Minima.cmd("coinsimple "+ tokenid, function(res){
                        
                        if (res.status) {
                            const len = res.response.coins.length;
                            if (len && len > 1){
                                $('#tokenCoinsWrapper .collection-header h2').text(res.response.coins.length + " coins found!");
                            } else if (len && len == 1) {
                                $('#tokenCoinsWrapper .collection-header h2').text(res.response.coins.length + " coin found!");
                            } else {
                                $('#tokenCoinsWrapper .collection-header h2').text("No coins found for this token.");
                            }

                            res.response.coins.forEach(c => {

                                if (c.coin.amount > 0) {

                                    let markup = "<li class='collection-item'><div>"+
                                        c.coin.coinid.substring(0, 10)+"..."+c.coin.coinid.substring(c.coin.coinid.length-10, c.coin.coinid.length)+
                                        "<span id='copyCoin' class='valign left'><span style='display:none;'>"+c.coin.coinid+"</span><i class='material-icons'>content_copy</i></span>"+
                                        "<a class='secondary-content right'>"+c.coin.amount+"</a></div></li>";
                                    
                                    $('.tokenCoins').append(markup);                          
                                }


                            });


                        }

                    });

                    $("#tokenCoinsWrapper").removeClass("hide");

                });
                
                $('#genBtn').on('click', function(){
                    
                    if ($('#generateTool').hasClass("hide") && !$('#coinsTool').hasClass('hide') ) {
                        $('#coinsTool').addClass('hide');
                        $('#generateTool').removeClass("hide");
                    } else if ($('#generateTool').hasClass("hide") && !$('#importTool').hasClass('hide')) {
                        $('#importTool').addClass('hide');
                        $('#generateTool').removeClass("hide");
                    } else {
                        $('#generateTool').removeClass("hide");
                    }
                });
                $('#copyKey').on('click', function(){

                    copyText("pubKey");

                });
                $('#newKey').on('click', function(){

                    Minima.cmd('keys new', function(res){

                        if (res.status) {

                            $('#pubKey').val(res.response.key.publickey);

                            M.updateTextFields();

                        }

                    }); 

                });
                $(document).on('click', '#genClose', function() {
                    $('#generateTool').addClass("hide");
                })
                
                $('#impBtn').on('click', function() {

                    if ($('#importTool').hasClass('hide') && !$('#coinsTool').hasClass('hide')) {
                        $('#coinsTool').addClass('hide');
                        $('#importTool').removeClass("hide");
                    } else if($('#importTool').hasClass('hide') && !$('generateTool').hasClass('hide')) {
                        $('#generateTool').addClass("hide");
                        $('#importTool').removeClass("hide");
                    } else {
                        $('#importTool').removeClass("hide");
                    }
                    

                });
                $('#importTransaction').on('click', function(){
                    // remove older 
                    if ($("#importedFormContract").length > 0 && !$('#freshExportContract').length > 0) {
                        $('#importedFormContract').remove();
                    } else if($('#freshExportContract').length > 0) {
                        $('#freshExportContract').remove();
                    }
                    if ($('#importedData').val().length > 0){
                        const txnID = Math.floor(Math.random()*1000000000);
                        const data = $('#importedData').val();

                        Minima.cmd('txnimport ' + txnID + " " + data, function(res){

                            if (Minima.util.checkAllResponses(res)) {
                                M.toast({html: "Transaction imported with id: "+txnID, classes: "success"});
                            }

                        });

                       const importedTransaction = {id: txnID, data: data};
                       console.log(importedTransaction);
                       const json = JSON.stringify(importedTransaction);
                        Minima.file.save(json, "imported.txt", function(res){
                            if (res.success){

                                Minima.file.load("imported.txt", function(res) {
                                    const result = JSON.parse(res.data);
                                    if (res.success) {
                                        Minima.cmd("txnlist "+result.id, function(resp){
                                            console.log(resp);
                                            let inputs = "";
                                            let outputs = "";
                                            let total = 0;
                                            resp.response.transaction.transaction.inputs.forEach((input, i) => {
                                                inputs += "<li class='collection-item contract-item'><h4>Coin #"+i+
                                                    "</h4><p>"+
                                                    input.address.substring(0,10)+"..."+
                                                    input.address.substring(input.address.length-10, input.address.length)+
                                                    "</p><p style='color: rgb(205,197,216); font-weight: 400;'>"+
                                                    input.amount+
                                                    "</p></li>";
                                                total += parseFloat(input.amount);
                                            });

                                            resp.response.transaction.transaction.outputs.forEach((output, i) => {
                                                outputs += "<li class='collection-item contract-item'><div><h6>#"+
                                                    i+
                                                    "</h6>"+
                                                    "<p>"+
                                                    output.address+
                                                    "</p><p style='color: rgb(231,241,254);'>"+
                                                    output.amount + 
                                                    "</p></div></li>";
                                            });
                                            
                                            var markup = 
                                                "<div id='importedFormContract' class='card contract-card hoverable'>"+ 
                                                "<div class='card-image'>"+
                                                    "<img src='assets/diego.jpg' style='height: 150px;'>"+
                                                    "<div class='card-title'><h6 id='titles'><img class='left' style='width: 25px; margin-right: 5px; ' src='assets/polysig.png'>Imported <span id='brand' >PolySig</span> Contract</h6></div>"+
                                                "</div>"+
                                                "<div class='card-content contract-content'>"+
                                                "<ul class='collection with-header contract-collection'>"+
                                                    "<li class='collection-header contract-header'>Contract Details</li>"+
                                                    "<li id='contractDescr0' class='collection-item contract-item'><h4>Transaction ID</h4><p>"+resp.response.transaction.id+"</p></li>"+
                                                    "<li id='contractDescr1' class='collection-item contract-item'><h4>Signees</h4><p>This is a "+resp.response.transaction.transaction.state[0].data+"/"+resp.response.transaction.transaction.state[1].data+" MultiSignature Contract.</p></li>"+
                                                    "<li id='contractDescr2' class='collection-item contract-item'><h4 class='activator'>Amount of coins<i class='material-icons right'>more_vert</i></h4><p>"+resp.response.transaction.transaction.inputs.length+"</p></li>"+
                                                    "<li id='contractDescr3' class='collection-item contract-item'><h4>Total</h4><input id='amountToSend' type='number' disabled placeholder='0' value='"+total+"'></li>"+
                                                "</ul>"+
                                                "<ul class='collection with-header contract-collection'><li class='collection-header contract-header'>Outputs</li>"+
                                                outputs+ 
                                                "</ul>"+
                                                "</div>"+
                                                "<div class='card-reveal'>"+
                                                    "<span class='card-title grey-text text-darken-4'>Contract's Selected Coins<i class='material-icons right'>close</i></span>"+
                                                    "<br>"+
                                                    "<ul class='collection' id='chosenCoinsWrapper2'>"+
                                                    "</ul>"+
                                                "</div>"+
                                                "<div class='card-action'>"+
                                                    "<div id='exportSignedContract' class='btn-flat waves-light waves-effect waves-block'>"+
                                                        "Sign and Export"+
                                                    "</div>"+
                                                "</div>"+
                                                "</div>";

                                            $('#importedForm').after(markup);

                                            // Fill Chosen Coins in Contract
                                            setTimeout(() => {
                                                $('#chosenCoinsWrapper2').empty();
                                                if ($('#chosenCoinsWrapper2').length > 0) {
                                                    $('#chosenCoinsWrapper2:last-child').append(inputs);
                                                } 
                                            }, 1000);

                                        });
                                    }
                                });

                            }
                        })

                    } else {
                        M.toast({html: "Empty input fields!"});
                    }
                    

                });
                $(document).on('click', '#exportSignedContract', function(){
                    Minima.file.load('imported.txt', function(res){
                        const s = JSON.parse(res.data);
                        if (res.success) {
                            Minima.cmd('txnsignauto '+s.id+';'+'txnexport '+s.id+';'+'txndelete '+s.id, function(resp){
                                
                                M.toast({html: "Exported Contract with id: "+s.id, classes: "success"});

                                let markup = 
                                "<div id='freshExportContract' class='card contract-card hoverable'>"+ 
                                "<div class='card-image'>"+
                                    "<img src='assets/diego.jpg' style='height: 150px;'>"+
                                    "<div class='card-title'><h6 id='titles'><img class='left' style='width: 25px; margin-right: 5px; ' src='assets/polysig.png'>Exported <span id='brand' >PolySig</span> Contract</h6></div>"+
                                "</div>"+
                                "<div class='card-content contract-content'>"+
                                "<ul class='collection with-header contract-collection'>"+
                                    "<li class='collection-header contract-header'>Send this back to the Contract Agent.</li>"+
                                    "<li id='contractDescr0' class='collection-item contract-item'><h4>Contract TXN ID</h4><p>"+s.id+"</p></li>"+
                                    "<li id='contractDescr1' class='collection-item contract-item'><h4>Exported Data</h4><p id='exportedDataClip'>"+ resp[1].response.transaction +"</p></li>"+
                                    
                                "</ul>"+
                                "</div>"+
                                
                                "<div class='card-action'>"+
                                    "<div id='copySignedContract' class='btn-flat waves-light waves-effect waves-block'>"+
                                        "Copy To Clipboard"+
                                "</div>"+
                                "</div>";


                                $('#importedFormContract').remove();

                                $('#importedForm').after(markup);

                            });
                        }

                    });

                });
                $('#i_clearInputs').on('click', function(){

                    $('#importedData').val("");
                    // remove older 
                    if ($("#importedFormContract").length > 0 && !$('#freshExportContract').length > 0) {
                        $('#importedFormContract').remove();
                    } else if($('#freshExportContract').length > 0) {
                        $('#freshExportContract').remove();
                    }


                });
                $(document).on('click', '#copySignedContract', function(){

                    var str = $('#exportedDataClip').text();

                    const el = document.createElement('textarea');
                    el.value = str;
                    document.body.appendChild(el);
                    el.select();
                    document.execCommand('copy');
                    document.body.removeChild(el);

                    /* Alert the copied text */
                    M.toast({html: "Copied to clipboard.", classes: "success"});

                });
                $('#impClose').on("click", function(){
                    $('#importTool').addClass('hide');
                })
                
                setTimeout(() => {
                    menu.classList.add("scale-in");
                    createBtn.classList.add("scale-in");
                    provideBtn.classList.add("scale-in");
                    helpDiv.classList.add("scale-in");
                }, 300);
            });
        </script>

        <!-- Tutorial Overlay -->
        <div id="tutorial" class="carousel carousel-slider center">
            <div id="first" class="carousel-item carousel-fixed-item" href="#one">
                <span><a id="tutorialClose" class="right exit">&#10005;</a></span>
                <!-- helper div to fix valign issues -->
                <div class="row" style="position: relative; top:5%">
                    <div class="empty" style="height:35px;"></div>
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <h4>
                            <span id="brand" style="font-size: 2.5rem;">PolySig</span>
                        </h4>
                    </div>
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <img style="width: 180px;" src="assets/polysig.png" alt="logo">
                    </div>
                </div>
                
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <h4>Welcome!</h4>
                        <p>Let's get started with a quick tutorial.</p>
                    </div>  
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <i class="material-icons next">arrow_forward</i>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 center-align">
                        <span id="circle-bread">
                            <span class="active"></span>
                            <span></span>
                            <span></span>
                            <span></span>
                        </span>
                    </div>
                </div>
            </div>
            <div id="second" class="carousel-item carousel-fixed-item" href="#two">
                <span><a id="tutorialClose2" class="right exit">&#10005;</a></span>
                <!-- helper div to fix valign issues -->
                <div class="row" style="position: relative; top:5%">
                    <div class="empty" style="height:35px;"></div>
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <h4>
                            <span id="brand" style="font-size: 2.5rem;">PolySig</span>
                        </h4>
                    </div>
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <img style="width: 180px;" src="assets/coin.svg" alt="logo">
                    </div>
                </div>
                
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <h4>Transactions</h4>
                        <p>Minima transactions are made up of inputs and outputs, where <span style="font-weight: bold;">coins</span> are inputs, and the output is the <span style="font-weight: bold">script address.</span></p>
                    </div>  
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <i class="material-icons next">arrow_forward</i>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 center-align">
                        <span id="circle-bread">
                            <span></span>
                            <span class="active"></span>
                            <span></span>
                            <span></span>
                        </span>
                    </div>
                </div>
            </div>
            <div id="third" class="carousel-item carousel-fixed-item" href="#three">
                <span><a id="tutorialClose3" class="right exit">&#10005;</a></span>
                <!-- helper div to fix valign issues -->
                <div class="row" style="position: relative; top:5%">
                    <div class="empty" style="height:35px;"></div>
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <h4>
                            <span id="brand" style="font-size: 2.5rem;">PolySig</span>
                        </h4>
                    </div>
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <img style="width: 180px;" src="assets/slot-machine.svg" alt="logo">
                    </div>
                </div>
                
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <h4>MultiSig Contracts</h4>
                        <p>To spend a coin, the rightful owner must sign the transaction before posting it to the network.</p>
                        
                        <p>
                            Inputting these coins as input then outputting them to a newer transaction/contract, 
                            signed by 
                            <span style="font-weight:bold; font-style:italic">2(+)</span> out of 
                            <span style="font-weight:bold; font-style:italic">n</span> signatures,
                            will then make it only possible to be spent by the minimum needed signatures <span style="font-weight:bold">you</span> define in the transaction before.
                        </p>
                        

                    </div>  
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <i class="material-icons next">arrow_forward</i>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 center-align">
                        <span id="circle-bread">
                            <span></span>
                            <span></span>
                            <span class="active"></span>
                            <span></span>
                        </span>
                    </div>
                </div>
            </div>
            <div id="fourth" class="carousel-item carousel-fixed-item" href="#four">
                <span><a id="tutorialClose4" class="right exit">&#10005;</a></span>
                <!-- helper div to fix valign issues -->
                <div class="row" style="position: relative; top:5%">
                    <div class="empty" style="height:35px;"></div>
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <h4>
                            <span id="brand" style="font-size: 2.5rem;">PolySig</span>
                        </h4>
                    </div>
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <img style="width: 180px;" src="assets/rocket-ship.svg" alt="logo">
                    </div>
                </div>
                
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <h4>Get Started!</h4>
                        <p>Let's create our very first contract!</p>
                    </div>  
                </div>
                <div class="row valign-wrapper">
                    <div class="col s12 center-align">
                        <a id="tutorialBtn" class="btn-flat waves-light waves-effect">Let's go.</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 center-align">
                        <span id="circle-bread">
                            <span></span>
                            <span></span>
                            <span></span>
                            <span class="active"></span>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div id="tools" class="btn-flat btn waves-effect waves-light waves-block">
            Tools
        </div>
        <div id="toolsMenu" class="center-align hide z-depth-2">
            <span style="z-index: 10;"><a id="toolsClose" class="right exit">&#10005;</a></span>
            <div class="row toolButtons z-depth-0">
                <div class="col s12">
                    <h2>Tools</h2>
                </div>
            </div>
            <div class="row toolButtons z-depth-0">
                <div class="col s12 m6">
                    <a id="coinsBtn" class="waves-effect waves-light btn waves-block z-depth-1"><img src="assets/coin.svg" class="left" style="width: 22px;"></img>Coins</a>
                </div>
                <div class="col s12 m6">
                    <a id="genBtn" class="waves-effect waves-light btn waves-block z-depth-1"><img src="assets/keys.svg" class="left" style="width: 22px;">Generate Key</a> 
                </div>
                <div class="col s12">
                    <a id="impBtn" class="waves-effect waves-light btn waves-block z-depth-1"><img src="assets/import.svg" class="left" style="width: 22px;">TXN Import</a>    
                </div>
            </div>
            <div id="coinsTool" class="section hide">
                <div class="row">
                    <div class="col s12">
                        <span><a id="coinClose" class="right exit">&#10005;</a></span>
                        <div class="container">
                            <h4>Enter TokenID for the token you would like coin details for.</h4>
                            <div class="input-field">
                                <img src="assets/token.svg" class="prefix" style="width:22px;">
                                <input id="tokenID" type="text">
                                <label for="tokenID">Token ID</label>
                            </div>
                            <a id="getCoins" class="btn-small waves-light waves-effect z-depth-1">Get Coins</a>
                        </div>
                    </div>
                </div>
                <div id="tokenCoinsWrapper" class="row hide">
                    <div class="col s12">
                        <ul class="collection with-header">
                            <li class="collection-header z-depth-2"><h2>Coins Found</h2></li>
                            <div class="tokenCoins">

                            </div>
                        </ul> 
                    </div>
                </div>
            </div>   
            <div id="generateTool" class="section hide">
                <div class="row">
                    <div class="col s12">
                        <span><a id="genClose" class="right exit">&#10005;</a></span>
                        <div class="container">
                            <h4>Generate a new key below.</h4>
                            <div class="input-field">
                                <img src="assets/electronic-key.svg" style="width: 22px;" class="prefix" id="electronicKey" alt="Electronic Key">
                                <input id="pubKey" type="text">
                                <label for="pubKey">Public Key</label>
                                 <span id='copyKey' style="position: absolute" class='right'><i class='material-icons'>content_copy</i></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <a id="newKey" class="btn-small waves-light waves-effect z-depth-1">New Key</a>
                    </div>
                </div>
            </div>
            <div id="importTool" class="section hide">
                <div id="importedForm" class="row">
                    <div class="col s12">
                        <span><a id="impClose" class="right exit">&#10005;</a></span>
                        <div class="container">
                            <h4>Import a transaction, edit and sign and export when ready.</h4>
                        </div>
                    </div>
                    <div class="col s12">
                        <div class="input-field">
                            <img src="assets/import.svg" style="width: 22px;" class="prefix" id="importedTransaction" alt="Imported Transaction">
                            <input id="importedData" type="text">
                            <label for="importedData">Imported Transaction</label>
                        </div>
                    </div>
                    <div class="col s12">
                        <a id="importTransaction" class="btn-small waves-light waves-effect z-depth-1">Import Transaction</a>
                    </div>
                    <div class="col s12">
                        <a id="i_clearInputs" class="btn-flat waves-light waves-effect z-depth-1" >Clear Input</a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- helper div to fix valign issues -->
        <div class="row" style="position: relative; top:50%">
            <div class="empty" style="height:35px;"></div>
        </div>

        <div id="mainMenu" class="valign-wrapper">
            <!-- Main -->
            <div id="s-menu" class="z-depth-1 hoverable center-align" style="width: 100%;">
                <div class="row no-padding">
                    <div class="col s12">
                        <h1 style="margin: 0; padding: 0;">
                            <img id="icon" src="assets/polysig.png"> 
                        </h1>
                    </div>
                </div>
                <div class="row h-10 center-align no-padding">
                    <div id="start-menu-title" class="start-menu col s12 scale-transition scale-out my-auto">
                        <h1 style="margin:0; padding: 0;">PolySig.</h1>
                         <p class="center-align">Creating a MultiSig contract has never been easier.</p>
                    </div>
                </div>
                <div class="row center-align">
                    <div id="btnWrap1" class="col s6 scale-transition scale-out">
                        <a id="createBtn" class="btn-flat waves-effect waves-light">
                            Create
                        </a>
                    </div>
                    <div id="btnWrap2" class="col s6 scale-transition scale-out">
                        <div id="provideBtn" class="btn-flat waves-effect waves-light">
                            Contracts
                        </div>
                    </div>
                </div>
                
                <div class="row center-align">
                    <div id="help" class="col s12 scale-transition scale-out">
                        <div id="helpBtn" class="btn-flat waves-effect waves-light">
                            Help
                        </div>
                    </div>
                </div>
            </div>
            <!-- Help -->
            <div id="s-help" class="container z-depth-1" style="display: none;">
                <div class="row center-align no-padding">
                    <div class="col s12">
                        <h1 style="margin: 0; padding: 0;">
                            <img id="icon" src="assets/polysig.png"> 
                        </h1>
                    </div>
                </div>
                <div class="row h-10 center-align no-padding">
                    <div id="start-menu-title" class="start-menu col s12 scale-transition scale-in my-auto">
                        <h1 style="margin:0; padding: 0;">PolySig.</h1>
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s12">
                        <ul class="collection with-header">
                            <li class="collection-header"><h4>Use cases for <span id="brand">PolySig</span> &mdash; MultiSig Contracts</h4></li>
                            <li class="collection-item">You might lose access to your phone/wallet and are unable to retrieve your coins.</li>
                            <li class="collection-item">You might want to have a shared vault with your significant other/childhood friend.</li>
                            <li class="collection-item">Safeguarding your coins in case you/they go missing, or goodness forbid ..death..</li>
                        </ul>
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s12">
                        <div id="homeBtn" class="btn waves-effect waves-light">
                            <i id="forward" class="material-icons left no-padding">arrow_back</i>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Create -->
            <div id="s-create" class="container z-depth-1 valign-wrapper" style="display: none;">
                <div class="row center-align">
                    <div class="row right" style="position: absolute; right: 3px; top:10px;">
                        <div class="col s12">
                            <div id="homeBtn2" class="btn-flat waves-effect waves-light" style="vertical-align: middle">
                                <i id="forward" class="material-icons left no-padding">arrow_back</i>
                            </div>
                        </div>
                    </div>
                    <div id="create-menu-title" class="col s-12">
                        <h1>
                            <i id="info" class="tiny material-icons" style="margin: 0;">info</i> How many user(s) are you using in your multi-signature transaction?
                        </h1>
                    </div>
                </div>
                <div id="signee" class="row">
                    <div class="input-field col s12 m6">
                        <i class="material-icons prefix">lock</i>
                        <input id="users" type="number" class="validate">
                        <label for="users">No. of Signee</label>
                    </div>
                    <div class="input-field col s12 m6">
                        <i class="material-icons prefix">lock_open</i>
                        <input id="minimum" type="number" class="validate">
                        <label for="minimum">Minimum signatures</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s10 offset-s1 center-align">
                        <a id="proceedBtn" class="btn-flat waves-effect waves-light modal-trigger" href="#modalCreate">
                            <i id="forward" class="material-icons right no-padding">arrow_forward</i>Proceed
                        </a>
                    </div>
                </div>
               
            </div>
            <!-- Inputs -->
            <div id="s-inputs" class="container z-depth-1" style="display: none;">
                <div class="row right">
                    <div class="col s12 center-align">
                        <div id="homeBtn3" class="btn-flat waves-effect waves-light" style="vertical-align: middle">
                            <i id="forward" class="material-icons left no-padding">arrow_back</i>
                        </div>
                    </div>
                </div>
                <div class="row center-align">
                    <div id="create-menu-title" class="col s-12">
                        <h1>
                            <i id="info" class="tiny material-icons" style="margin: 0;">info</i> Enter coin(s) ID of a token that you and any participants would like to spend.  You can retrieve your coins by entering the token ID below and selecting the coins you wish to use.  Ask your participant to send you theirs (click HELP for more information).
                        </h1>
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s12 input-field">
                        <img class="prefix" style="width: 30px;" src="assets/id.svg">
                        <input type="text" id="tokenId2">
                        <label for="tokenId2">Enter Token ID</label>
                    </div>
                    <div class="col s12">
                        <a id="c-getCoinsBtn" class="btn-flat waves-effect waves-light modal-trigger" href="#coinsModalCreate">Get Coins</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 m6">
                        <h6 id="titles"><img style='width: 25px;' src='assets/coin.svg'><span style="margin-left:5px;">Your <span id="brand">PolySig</span> inputs</span></h6>
                    </div>
                    <div class="col s12">
                        <div id="minusInput" class="btn-flat small waves-effect waves-block secondary-content">&mdash; Input</div>
                        <div id="addInput" class="btn-flat small waves-effect waves-block secondary-content"><i class="left no-padding small material-icons">add</i>Input</div>
                    </div>
                    
                    <div id="inputsWrapper" class="col s12">
                        <div class='col s12 input-field'>
                            <img class='prefix ' style='width: 30px;' src='assets/slot-machine.svg'>
                            <input type='text' id="input0">
                            <label for='input0'>CoinID #0</label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col s10 offset-s1 center-align">
                        <a id="proceedBtnInputs" class="btn-flat waves-effect waves-light" style="vertical-align: middle">
                            <i id="forward" class="material-icons right no-padding">arrow_forward</i>Proceed
                        </a>
                    </div>
                </div>
                
                <div class="row center-align">
                    <div id="tipsBtn1" class="col s12 scale-transition">
                        <div id="helpBtn" class="btn-flat waves-effect waves-light">
                            HELP
                        </div>
                    </div>
                </div>
            </div>
            <!-- Help -->
            <div id="s-tips1" class="container z-depth-1" style="display: none;">
                <div class="row center-align no-padding">
                    <div class="col s12">
                        <h1 style="margin: 0; padding: 0;">
                            <img id="icon" src="assets/polysig.png"> 
                        </h1>
                    </div>
                </div>
                <div class="row h-10 center-align no-padding">
                    <div id="start-menu-title" class="start-menu col s12 scale-transition scale-in my-auto">
                        <h1 style="margin:0; padding: 0;">PolySig.</h1>
                    </div>
                </div>
                <div class="row center-align">
                    <div id="coll-tip1_wrap" class="col s12">
                        <ul id="coll-tip2" class="collection with-header">
                            <li class="collection-header"><h4>Tip #1 &mdash; Inputs</h4></li>
                            <li class="collection-item">&mdash; A token's coin ID is automatically added as input to your contract. </li>
                            <li class="collection-item">&mdash; 1 Input is equivalent to 1 Coin ID. </li>
                            <li class="collection-item">&mdash; Use the +/- input buttons to suit that. </li>
                            <li class="collection-item">&mdash; You and your participant(s) can use the <span style="font-weight: bold;">coins</span> tool to fetch the available coin ID of your tokens.</li>
                            <li class="collection-item">&mdash; Once you have retrieved the coins, you can copy-paste them into the inputs. </li>
                            <li class="collection-item">&mdash; Make sure to enter the chosen token ID (0x00 for default Minima Token) before proceeding. </li>
                            <li class="collection-item">&mdash; To spend this input, the owner of the coin <span style="font-weight: bold;">must</span> sign this contract before you post it.</li>   
                        </ul>
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s12">
                        <div id="backBtn1" class="btn waves-effect waves-light">
                            <i id="forward" class="material-icons left no-padding">arrow_back</i>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Give Keys -->
            <div id="s-keys" class="container z-depth-1" style="display: none;">
                <div class="row center-align">
                    <div id="create-menu-title" class="col s-12">
                        <h1>
                            <i id="info" class="tiny material-icons" style="margin: 0;">info</i> Enter this Contract's future Signee(s) public keys to generate a MultiSig Script for your <span id='brand' style="font-size: 1.3rem">PolySig.</span>
                        </h1>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 valign-wrapper">
                        <h6 id="titles"><img class='left' style='width: 25px; margin-left: 5px; ' src='assets/keys.svg'>Your <span id="brand">PolySig</span> Public Keys</h6>
                    </div>
                    <div id="keysWrapper" class="col s12">
                        
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s10 offset-s1 center-align">
                        <a id="proceedBtnOutputs" class="btn-flat waves-effect waves-light" style="vertical-align: middle">
                            <i id="forward" class="material-icons right no-padding">arrow_forward</i>Proceed
                        </a>
                    </div>
                </div>
                <div class="row center-align">
                    <div id="tipsBtn2" class="col s12 scale-transition">
                        <div id="helpBtn" class="btn-flat waves-effect waves-light">
                            HELP
                        </div>
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s12 center-align">
                        <div id="homeBtn4" class="btn-flat waves-effect waves-light" style="vertical-align: middle">
                            <i id="forward" class="material-icons left no-padding">arrow_back</i>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Help -->
            <div id="s-tips2" class="container z-depth-1" style="display: none;">
                <div class="row center-align no-padding">
                    <div class="col s12">
                        <h1 style="margin: 0; padding: 0;">
                            <img id="icon" src="assets/polysig.png"> 
                        </h1>
                    </div>
                </div>
                <div class="row h-10 center-align no-padding">
                    <div id="start-menu-title" class="start-menu col s12 scale-transition scale-in my-auto">
                        <h1 style="margin:0; padding: 0;">PolySig.</h1>
                    </div>
                </div>
                <div class="row center-align">
                    <div id="coll-tip1_wrap" class="col s12">
                        <ul id="coll-tip1" class="collection with-header">
                            <li class="collection-header"><h4>Tip #2 &mdash; Signee(s) Public Keys</h4></li>
                            <li class="collection-item">&mdash; You will lock this contract with these public keys.</li>
                            <li class="collection-item">&mdash; 1 Key should be yours, the rest should be your participant(s)</li>
                            <li class="collection-item">&mdash; A participant of this contract must provide you with their public key for future signatures so that you can unlock the contract and spend the coins.</li>
                            <li class="collection-item">&mdash; Using <span style="font-weight: bold;">Keys</span> tool in your tool menu, you can all generate a public key. </li>
                        </ul>
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s12">
                        <div id="backBtn2" class="btn waves-effect waves-light">
                            <i id="forward" class="material-icons left no-padding">arrow_back</i>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Generate Script -->
            <div id="s-script" class="container z-depth-1 center-align" style="display: none;">
                <div class="row center-align">
                    <div id="create-menu-title" class="col s-12">
                        <h1>
                            <i id="info" class="tiny material-icons" style="margin: 0;">info</i> This is how your Multi-Signature script looks like, you don't have to do anything here, proceed when ready.
                        </h1>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 valign-wrapper">
                        <h6 id="titles"><img class='left' style='width: 25px; margin-left: 5px; ' src='assets/keys.svg'>Your <span id="brand">PolySig</span> Script</h6>
                    </div>
                    <div id="multiSigScript" class="col s12">
                        
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s10 offset-s1 center-align">
                        <a id="proceedBtnScript" class="btn-flat waves-effect waves-light" style="vertical-align: middle">
                            <i id="forward" class="material-icons right no-padding">arrow_forward</i>Proceed
                        </a>
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s12 center-align">
                        <a id="homeBtn5" class="btn-flat waves-effect waves-light" style="vertical-align: middle">
                            <i id="forward" class="material-icons left no-padding">arrow_back</i>
                        </a>
                    </div>
                </div>
            </div>
            <!-- Export Contract -->
            <div id="s-finalize" class="container z-depth-1 center-align" style="display: none;">
                <div class="row center-align">
                    <div id="create-menu-title" class="col s-12">
                        <h1>
                            <i id="info" class="tiny material-icons" style="margin: 0;">info</i> Congratulations, you have completed the first stage.  This is how your <span id="brand" style="font-size: 22px;">PolySig</span> looks like until now.  Click the export button when you're ready to continue.
                        </h1>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <div class="card contract-card hoverable">
                            <div class="card-image">
                                <img src="assets/diego.jpg" style="height: 150px">
                                <div class="card-title"><h6 id="titles"><img class='left' style='width: 25px; margin-right: 5px; ' src='assets/polysig.png'>Your <span id="brand" >PolySig</span> Contract</h6></div>
                            </div>
                            <div class="card-content contract-content">
                                <ul class="collection with-header contract-collection">
                                    <li class="collection-header contract-header">Contract details.</li>
                                    <li id="contractDescr0" class="collection-item contract-item"><h4>Transaction ID</h4><p></p></li>
                                    <li id="contractDescr1" class="collection-item contract-item"><h4>Signees</h4><p>This is a 2/3 MultiSignature Contract.</p></li>
                                    <li id="contractDescr2" class="collection-item contract-item"><h4 class="activator">Amount of coins <i class="material-icons right">more_vert</i></h4><p>You are using 10 coins.</p></li>
                                    <li id="contractDescr3" class="collection-item contract-item"><h4>Total</h4><input id="amountToSend" type="number" disabled placeholder="0"></li>
                                </ul>

                                <ul class="collection with-header contract-collection signature-collection">
                                    <li class="collection-header contract-header contract-signatures">Contract Keys</li>
                                    <div id="allSignatures">

                                    </div>
                                    <!-- Public Keys -->
                                </ul>
                            </div>
                            <div class="card-reveal">
                                <span class="card-title grey-text text-darken-4">Your Selected Coins<i class="material-icons right">close</i></span>
                                <br>
                                <ul class="collection" id="chosenCoinsWrapper">
                                    <!-- Chosen Coins -->
                                </ul>
                            </div>
                            <div class="card-action">
                                <div id="exportContract" class="btn-flat waves-light waves-effect waves-block">
                                    Export Contract
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s12 center-align">
                        <div id="homeBtn6" class="btn-flat waves-effect waves-light" style="vertical-align: middle">
                            <i id="forward" class="material-icons left no-padding">arrow_back</i>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Export/Import Contract -->
            <div id="s-export" class="container z-depth-1 center-align" style="display: none;">
                <div class="row center-align">
                    <div id="create-menu-title" class="col s-12">
                        <h1>
                             <i id="info" class="tiny material-icons" style="margin: 0;">info</i> Send the exported contract to your partner(s) so that they can sign it and re-send the hexaddress.
                        </h1>
                    </div>
                </div>

                <div class="row center-align">
                    <div class="col s12">
                        <div class="row valign-wrapper">
                            <div class="input-field col s8">
                                <i class="material-icons prefix">explicit</i>
                                <input type="text" id="exportedContract" disabled class="validate">
                                <label class="active" for="exportedContract">Exported Contract</label>
                            </div>
                            <div class="col s4">
                                <span class="valign left copy"><i class="material-icons">content_copy</i>Copy</span>
                            </div>
                        </div>

                        <div id="create-menu-title" class="row valign-wrapper">
                            <div class="col s12">
                                <h1>
                                    <i id="info" class="tiny material-icons" style="margin: 0;">info</i> When ready, paste the newer hexaddress below and let's continue...
                               </h1>    
                            </div>
                        </div>

                        <div class="row valign-wrapper">
                            <div class="input-field col s12">
                                <i class="material-icons prefix">edit</i>
                                <input type="text" id="importedContract" class="validate">
                                <label for="importedContract">Imported Contract</label>
                            </div>
                        </div>
                        
                        <div class="row center-align">
                            <div class="col s10 offset-s1 center-align">
                                <a id="importContractBtn" class="btn-flat waves-effect waves-light" style="vertical-align: middle">
                                    <i id="forward" class="material-icons right no-padding">arrow_forward</i>Import Contract
                                </a>
                            </div>
                        </div>
                        
                    </div>
                </div>

                <div class="row center-align">
                    <div id="tipsBtn3" class="col s12 scale-transition">
                        <div id="helpBtn3" class="btn-flat waves-effect waves-light">
                            HELP
                        </div>
                    </div>
                </div>

                <div class="row center-align">
                    <div class="col s12 center-align">
                        <div id="homeBtn7" class="btn-flat waves-effect waves-light" style="vertical-align: middle">
                            <i id="forward" class="material-icons left no-padding">arrow_back</i>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Help -->
            <div id="s-tips3" class="container z-depth-1" style="display: none;">
                <div class="row center-align no-padding">
                    <div class="col s12">
                        <h1 style="margin: 0; padding: 0;">
                            <img id="icon" src="assets/polysig.png"> 
                        </h1>
                    </div>
                </div>
                <div class="row h-10 center-align no-padding">
                    <div id="start-menu-title" class="start-menu col s12 scale-transition scale-in my-auto">
                        <h1 style="margin:0; padding: 0;">PolySig.</h1>
                    </div>
                </div>
                <div class="row center-align">
                    <div id="coll-tip1_wrap" class="col s12">
                        <ul id="coll-tip1" class="collection with-header">
                            <li class="collection-header"><h4>Tip #3 &mdash; Export/Import Contracts</h4></li>
                            <li class="collection-item">&mdash; To allow your participant(s) to sign this transaction, copy/paste the exported contract and send it via whatsapp/telegram/viber.</li>
                            <li class="collection-item">&mdash; For the participant(s) to sign they can use the <span style="font-weight: bold;">import</span> tool inside then tool menu to sign it. </li>
                            <li class="collection-item">&mdash; Once they have signed it, they can send back the hex address to you and you can paste it inside the import input in this form.</li>
                            <li class="collection-item">&mdash; <span style="font-weight: bold;">Note:</span> The participant(s) ONLY have to sign this contract if they are using their own coins in this contract. </li>
                        </ul>
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s12">
                        <div id="backBtn3" class="btn waves-effect waves-light">
                            <i id="forward" class="material-icons left no-padding">arrow_back</i>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Imported Contract Post -->
            <div id="s-imported-post" class="container z-depth-1 hide center-align">
                <div class="row center-align">
                    <div id="create-menu-title" class="col s-12">
                        <h1>
                            <i id="info" class="tiny material-icons" style="margin: 0;">info</i> You are ready to post your <span id="brand" style="font-size: 1.5rem;">PolySig</span> Contract!
                        </h1>
                    </div>
                </div>

                <div class="row center-align">
                    <div class="col s12">
                        <div id="finalContractImport" class="card contract-card">
                            <div class="card-image">
                                <img src="assets/diego.jpg" style="height: 150px">
                                <div class="card-title"><h6 id="titles"><img class='left' style='width: 25px; margin-right: 5px; ' src='assets/polysig.png'>Your <span id="brand" >PolySig</span> Contract</h6></div>
                            </div>
                            <div class="card-content">
                                <ul class='collection with-header'>
                                    <li id='finalContractDetails0' class='collection-item contract-item'><h4>Transaction ID</h4><p></p></li>
                                    <li id="finalContractDetails1" class='collection-item contract-item'><h4>Number of Inputs</h4><p></p></li>
                                    <li id="finalContractDetails2" class='collection-item contract-item'><h4>Number of Outputs</h4><p></p></li>
                                    <li id="finalContractDetails3" class='collection-item contract-item'><h4>Number of Signatures</h4><p></p></li>
                                </ul>
                            </div>
                            <div class="card-action center-align">
                                <a id="signAndPostBtn" class='btn-flat waves-block waves-effect waves-light'>Sign and Post</a>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
            <!-- Posted  -->
            <div id="s-posted-details" class="container z-depth-1 hide center-align">
                <div class="row center-align">
                    <div id="create-menu-title" class="col s-12">
                        <h1>
                            <i id="info" class="tiny material-icons" style="margin: 0;">info</i> Your <span id="brand" style="font-size: 1.5rem;">PolySig</span> Contract has been posted!
                        </h1>
                    </div>
                </div>

                <div class="row center-align">
                    <div class="col s12">
                        <div id="finalContractImport" class="card contract-card">
                            <div class="card-image">
                                <img src="assets/diego.jpg" style="height: 150px">
                                <div class="card-title"><h6 id="titles"><img class='left' style='width: 25px; margin-right: 5px; ' src='assets/polysig.png'>Your <span id="brand" >PolySig</span> Contract</h6></div>
                            </div>
                            <div class="card-content">
                                <ul class='collection with-header'>
                                    <li id='postedContractDetails0' class='collection-item contract-item'><h4>Transaction ID</h4><p></p></li>
                                    <li id="postedContractDetails1" class='collection-item contract-item'><h4>Size</h4><p></p></li>
                                    <li id="postedContractDetails2" class='collection-item contract-item'><h4>Timestamp</h4><p></p></li>
                                </ul>
                            </div>
                            <div class="card-action">
                                <a id="postedContractHomeBtn" class='btn-flat waves-block waves-effect waves-light'>Main Page</a>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
            <!-- Posted  -->
            <div id="s-contracts" class="container z-depth-1 hide center-align">
                <div class="row">
                    <div id="create-menu-title" class="col s-12">
                        <h1>
                            <i id="info" class="tiny material-icons" style="margin: 0;">info</i> Your <span id="brand" style="font-size: 1.5rem;">PolySig</span> Contracts.
                        </h1>
                    </div>
                </div>

                <div class="row">
                    <div class="col s12">
                        <div id="contracts">
                            <ul class="collection with-header">
                                <li class="collection-header z-depth-2">Contract Activities</li>
                                <div id="contract">

                                </div>
                                <div id="contract-details" class="hide">
                                    
                                </div>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="row center-align">
                    <div class="col s12">
                        <div id="homeBtn9" class="btn-flat waves-effect waves-light" style="vertical-align: middle">
                            <i id="forward" class="material-icons left no-padding">arrow_back</i>
                        </div>
                    </div>
                </div>
                
            </div>
            
        
    </div>

    <!-- Custom Modal 1 -->
    <div id="modalCreate" class="modal">
        <div class="modal-content">
            <h4 id="m-contractHeader"></h4>
            <p id="m-contractType"></p>
        </div>
        <div class="modal-footer">
                <a class="modal-action modal-close waves-effect waves-red btn-flat ">Cancel</a>
                <a id="confirm" class="hide modal-action modal-close waves-effect waves-green btn-flat">Confirm</a>
        </div>
    </div>
    <!-- Coins Modal 2 -->
    <div id="coinsModalCreate" class="modal">
        <div class="modal-content">
            <h4 id="m-contractHeader">Available Coins</h4>
            <p id="m-contractType">Please tick the coins you would like to use...</p>
            <div id="aCoinsWrapper">

            </div>
        </div>
        <div class="modal-footer">
                <a class="modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
                <a id="aConfirmBtn" class="modal-action modal-close waves-effect waves-green btn-flat">Use Selected Coins</a>
        </div>
    </div>
        

        <script src="js/minima.js" type="text/javascript"></sscript>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/decimal.js/9.0.0/decimal.min.js" integrity="sha512-zPQm8HS4Phjo9pUbbk+HPH3rSWu5H03NFvBpPf6D9EU2xasj0ZxhYAc/lvv/HVDWMSE1Autj19i6nZOfiVQbFQ==" crossorigin="anonymous"></script>

    </body>
</html>